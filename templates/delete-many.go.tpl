{{ $shortClass := shortname .Table.TableName }}
{{ $class := classname .Table.TableName }}
{{ $shortModel := shortname .Table.TableName $shortClass }}
{{ $model := modelname .Table.TableName }}
{{ $singular := modelreturn .Table.TableName }}
{{ $return := pluralize $singular }}
package {{ .Package }}

import "github.com/matthewmueller/pgx"

// GENERATED BY POGO. DO NOT EDIT.

// DeleteMany delete many {{ $model }}s by a condition
func ({{ $shortClass }} *{{ $class }}) DeleteMany(condition string, params... interface{}) (err error) {
	// sql select query, primary key provided by sequence
	sqlstr := `DELETE FROM {{ schema .Schema .Table.TableName }} WHERE ` + condition

	DBLog(sqlstr, params...)
  _, err = {{ $shortClass }}.DB.Exec(sqlstr, params...)
  if err != nil {
    if err == pgx.ErrNoRows {
      return Err{{ $model }}NotFound
    }
    return err
  }

  return nil
}
